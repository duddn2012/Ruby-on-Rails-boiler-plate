# Ruby on Rails í”„ë¡œì íŠ¸ Cursor Rules
# "ë‚´ í™”ì¥í’ˆì„ ì°¾ì•„ì¤˜!" AI ê¸°ë°˜ í™”ì¥í’ˆ ì¶”ì²œ ì„œë¹„ìŠ¤

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”
ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ìì˜ í”¼ë¶€ ìƒíƒœì™€ ê³ ë¯¼ì‚¬í•­ì„ ë¶„ì„í•˜ì—¬ ìµœì ì˜ í™”ì¥í’ˆì„ ì¶”ì²œí•´ì£¼ëŠ” AI ê¸°ë°˜ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
- Ruby on Rails 8.0 ê¸°ë°˜
- MCP (Model Context Protocol) ì„œë²„ ì—°ë™
- SQLite (ê°œë°œ) / PostgreSQL (ìš´ì˜)
- Heroku ë°°í¬

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
app/
â”œâ”€â”€ controllers/          # API ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ models/              # ë°ì´í„° ëª¨ë¸
â”œâ”€â”€ mcp/                 # MCP ì„œë²„ (ìƒˆë¡œ ì¶”ê°€)
â”‚   â”œâ”€â”€ server.rb        # MCP ì„œë²„ ë©”ì¸ í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ tools/           # MCP ë„êµ¬ë“¤
â”‚   â””â”€â”€ schemas/         # ìŠ¤í‚¤ë§ˆ ì •ì˜
â”œâ”€â”€ services/            # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â””â”€â”€ views/               # ë·° í…œí”Œë¦¿
```

## ğŸ— ë°ì´í„° ëª¨ë¸
- **User**: skin_type, concerns, age_group
- **Product**: name, brand, category, price_range
- **Ingredient**: name, effect, safety_level
- **ProductIngredient**: ì œí’ˆ-ì„±ë¶„ ë‹¤ëŒ€ë‹¤ ê´€ê³„
- **Recommendation**: user_id, product_id, score

## ğŸ”§ ì½”ë”© ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

### Ruby/Rails ì»¨ë²¤ì…˜
- Ruby 3.x ë¬¸ë²• ì‚¬ìš©
- Rails 8.0 ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- snake_case ì‚¬ìš© (ë³€ìˆ˜, ë©”ì„œë“œ, íŒŒì¼ëª…)
- PascalCase ì‚¬ìš© (í´ë˜ìŠ¤ëª…)
- ë“¤ì—¬ì“°ê¸°: 2ì¹¸ ê³µë°±
- í•œ ì¤„ ìµœëŒ€ ê¸¸ì´: 120ì

### íŒŒì¼ êµ¬ì¡°
- ì»¨íŠ¸ë¡¤ëŸ¬: `app/controllers/`
- ëª¨ë¸: `app/models/`
- ì„œë¹„ìŠ¤: `app/services/`
- MCP ì„œë²„: `app/mcp/`
- í…ŒìŠ¤íŠ¸: `test/` ë˜ëŠ” `spec/`

### ë„¤ì´ë° ì»¨ë²¤ì…˜
- ì»¨íŠ¸ë¡¤ëŸ¬: `UsersController`, `ProductsController`
- ëª¨ë¸: `User`, `Product`, `Ingredient`
- ì„œë¹„ìŠ¤: `RecommendationService`, `ProductService`
- MCP ë„êµ¬: `register_user_skin_info`, `get_cosmetic_recommendations`

## ğŸ¤– MCP ì„œë²„ ê°œë°œ ê°€ì´ë“œ

### MCP ë„êµ¬ êµ¬ì¡°
```ruby
# app/mcp/tools/recommendation_tool.rb
class RecommendationTool
  def self.register_user_skin_info(skin_type:, concerns:, age_group:)
    # ì‚¬ìš©ì í”¼ë¶€ ì •ë³´ ë“±ë¡ ë¡œì§
  end

  def self.get_cosmetic_recommendations(user_id:, ingredient: nil)
    # í™”ì¥í’ˆ ì¶”ì²œ ë¡œì§
  end
end
```

### ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- í”¼ë¶€íƒ€ì… ë§¤ì¹­: 40ì 
- ê³ ë¯¼ì‚¬í•­ ë§¤ì¹­: 30ì 
- ì—°ë ¹ëŒ€ ë§¤ì¹­: 20ì 
- ê°€ê²©ëŒ€ ë§¤ì¹­: 10ì 

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ
- RSpec ì‚¬ìš© ê¶Œì¥
- FactoryBotìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
- ê° ëª¨ë¸, ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- MCP ë„êµ¬ì— ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±

## ğŸ”’ ë³´ì•ˆ ê°€ì´ë“œ
- Strong Parameters ì‚¬ìš©
- SQL Injection ë°©ì§€
- XSS ë°©ì§€ (ERB í…œí”Œë¦¿ ì‚¬ìš© ì‹œ)
- API ì¸ì¦/ì¸ê°€ êµ¬í˜„

## ğŸ“ ë¬¸ì„œí™”
- ëª¨ë“  public ë©”ì„œë“œì— YARD ë¬¸ì„œ ì‘ì„±
- API ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ë¬¸ì„œí™”
- MCP ë„êµ¬ ì‚¬ìš©ë²• ë¬¸ì„œí™”

## ğŸš€ ë°°í¬ ê°€ì´ë“œ
- Heroku ë°°í¬ í™˜ê²½
- í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- MCP ì„œë²„ì™€ Rails ì•± ë™ì‹œ ìš´ì˜

## âš ï¸ ì£¼ì˜ì‚¬í•­
- ìœ ì‚¬ ì„±ë¶„ ê¸°ëŠ¥ì€ ì œì™¸ (í˜„ì¬ ë‹¨ê³„ì—ì„œ)
- í•µì‹¬ ê¸°ëŠ¥ ìœ„ì£¼ë¡œ ê°œë°œ
- ì½”ë“œ ë¦¬ë·° í•„ìˆ˜
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ ìœ ì§€

## ğŸ¯ ê°œë°œ ìš°ì„ ìˆœìœ„
1. ë°ì´í„° ëª¨ë¸ ì™„ì„± (User, Ingredient, ProductIngredient, Recommendation)
2. API ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„
3. MCP ì„œë²„ ê¸°ë³¸ êµ¬ì¡° êµ¬í˜„
4. ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
5. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
6. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±

## ğŸ“š ì°¸ê³  ìë£Œ
- Rails Guides: https://guides.rubyonrails.org/
- MCP Protocol: https://modelcontextprotocol.io/
- Ruby Style Guide: https://github.com/rubocop/ruby-style-guide 